<tr id="<%= dom_id(site, :sites_table) %>">
  <%= dsfr_row_check(site) %>
  <td class="fr-cell--center"><%= link_icon(:article, Site.human(:view_name, name: site.name_with_fallback), url_for([site, site.audit]), title: Site.human(:view_name, name: site.name_with_fallback), line: true, side: :left, sr_only: true) %></td>
  <td><%= link_to site.url_without_scheme_and_www.truncate(35, separator: /\W/), site.url, target: :_blank, title: site.url_without_scheme_and_www.length > 35 ? site.url_without_scheme_and_www : nil %></td>
  <% site.audit.all_checks.each do |check| %>
    <td id="<%= dom_id(check, :sites_table) %>" class="fr-cell--center"><%= badge(to_badge(check), tooltip: check.tooltip?) %></td>
  <% end %>
  <td class="fr-cell--multiline">
    <% tags = site.tags.collect(&:name) %>
    <%= safe_join tags.take(3).map { dsfr_tag(title: it.truncate(35), size: :sm) } %>
    <%= dsfr_tooltip(t("shared.x_more", x: tags.size - 3), type: :link, title: tags[3..].to_sentence) if tags.size > 3 %>
  </td>
  <td>
    <% checked_at = site.audit.checked_at || site.audit.updated_at %>
    <% local_time = checked_at.in_time_zone %>
    <%= time_tag local_time, l(local_time, format: :compact), title: l(local_time, format: :long) %>
    <br>
    (<%= time_ago local_time %>)
  </td>
</tr>
